<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Alcon MLR Pre‑Screening Agent – Results (Fixed Export Button)</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
:root{
  --alcon-blue:#0072CE;
  --alcon-blue-600:#035bb0;
  --bg:#F6F8FB;
  --text:#1F2937;
  --muted:#6B7280;
  --card:#FFFFFF;
  --border:#E5E7EB;
  --shadow:0 10px 20px rgba(16,24,40,.06),0 2px 6px rgba(16,24,40,.06);
  --green:#12B76A;
  --amber:#F59E0B;
  --red:#D92D20;
  --radius:16px;
}
body{margin:0;font-family:Inter,sans-serif;color:var(--text);background:var(--bg)}

/* --- ONLY UPDATED PART: Export footer --- */
.export-footer {
  position: fixed;
  left: 50%;
  transform: translateX(-50%);
  bottom: 20px;
  z-index: 1000;
  display: none; /* hidden until bottom */
}
.export-btn {
  background-color: var(--alcon-blue);
  color: #fff;
  border: none;
  border-radius: 12px;
  padding: 10px 18px;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  box-shadow: 0 2px 6px rgba(0,0,0,0.15);
}
.export-btn:hover { background-color: var(--alcon-blue-600); }
</style>
</head>
<body>
  <div style="min-height:150vh;padding:20px">
    <h1>Demo Page</h1>
    <p>Scroll down and the export button should appear centered at the bottom once you reach the end of the page.</p>
  </div>

  <!-- Fixed Export Button -->
  <div class="export-footer no-export">
    <button id="exportPDF" class="export-btn">Export Results as PDF</button>
  </div>

<!-- html2pdf.js CDN -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.3/html2pdf.bundle.min.js"></script>
<script>
// --- ONLY UPDATED PART: show button only at bottom ---
(function() {
  const footer = document.querySelector('.export-footer');
  function toggleFooter() {
    const scrollBottom = window.scrollY + window.innerHeight;
    const docHeight = Math.max(document.body.scrollHeight, document.documentElement.scrollHeight);
    if (scrollBottom >= docHeight - 5) {
      footer.style.display = 'block';
    } else {
      footer.style.display = 'none';
    }
  }
  toggleFooter();
  window.addEventListener('scroll', toggleFooter, { passive: true });
  window.addEventListener('resize', toggleFooter);
})();

document.getElementById('exportPDF').addEventListener('click', () => {
  const opt = {
    margin: 0.5,
    filename: 'alcon-mlr-results.pdf',
    image: { type: 'jpeg', quality: 0.98 },
    html2canvas: { scale: 2 },
    jsPDF: { unit: 'in', format: 'letter', orientation: 'portrait' }
  };
  html2pdf().set(opt).from(document.body).save();
});
</script>
</body>
</html>